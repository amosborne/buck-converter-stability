Version 4
SHEET 1 1360 680
WIRE 432 64 416 64
WIRE 608 64 576 64
WIRE 112 144 -16 144
WIRE 144 144 112 144
WIRE -16 160 -16 144
WIRE 304 160 208 160
WIRE 416 160 416 64
WIRE 416 160 384 160
WIRE 448 160 416 160
WIRE 144 176 112 176
WIRE 576 176 512 176
WIRE 608 176 608 64
WIRE 608 176 576 176
WIRE 112 256 112 176
WIRE 608 256 608 176
WIRE 608 256 112 256
FLAG 832 208 0
FLAG 832 128 vcc
FLAG 480 144 vcc
FLAG 176 128 vcc
FLAG 176 192 0
FLAG 480 208 0
FLAG 928 208 0
FLAG 928 128 vref
FLAG 448 192 vref
FLAG -16 240 0
FLAG 112 144 vin
FLAG 576 176 vout
SYMBOL voltage 832 112 R0
SYMATTR InstName V1
SYMATTR Value 5
SYMBOL voltage 928 112 R0
SYMATTR InstName V2
SYMATTR Value 2.5
SYMBOL res 400 144 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 10k
SYMBOL cap 576 48 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 1µ
SYMBOL voltage -16 144 R0
WINDOW 3 -67 146 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PWL(0 100m 100m 100m 101m 2.5 200m 2.5 201m 4.9 300m 4.9 301m 2.5 400m 2.5 401m 100m)
SYMATTR InstName Vin
SYMBOL res 528 48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 1k
SYMBOL Opamps\\opamp2 176 96 R0
WINDOW 3 -47 133 Left 2
SYMATTR Value TSV912
SYMATTR InstName U1
SYMBOL Opamps\\opamp2 480 112 R0
WINDOW 3 -82 127 Left 2
SYMATTR Value TSV912
SYMATTR InstName U2
TEXT 160 -80 Left 2 !.tran 500m
TEXT 160 -104 Left 2 !.include tsv912.lib
TEXT 160 -48 Left 2 !.ic V(vout)=100m
TEXT -96 -8 Left 2 ;Note: The input voltage needs to be within the TSV912 rail-to-rail output range. Choose 100mV to be safe.
TEXT 552 -56 Left 2 ;10k and 1u gives ramp rate 2.5V/RC = 250mV/ms (0V to 5V in 20ms)
